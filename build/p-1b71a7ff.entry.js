import{r as o,h as t,H as i,c as e,g as n}from"./p-4baf6c8a.js";const r=class{constructor(t){o(this,t)}render(){return t(i,null,t("div",{class:"lds-ripple"},t("div",null),t("div",null)))}};r.style=".lds-ripple{display:inline-block;position:relative;width:80px;height:80px}.lds-ripple div{position:absolute;border:4px solid #750175;opacity:1;border-radius:50%;animation:lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite}.lds-ripple div:nth-child(2){animation-delay:-0.5s}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}100%{top:0px;left:0px;width:72px;height:72px;opacity:0}}";const s=class{constructor(t){o(this,t),this.symbolSelected=e(this,"symbolSelected",7),this.searchResults=[],this.loading=!1}onFindStocks(o){o.preventDefault(),this.loading=!0,fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${this.stockNameInput.value}&apikey=`).then((o=>o.json())).then((o=>{this.searchResults=o.bestMatches.map((o=>({symbol:o["1. symbol"],name:o["2. name"]}))),this.loading=!1})).catch((o=>{console.log(o.message),this.loading=!1}))}onSymbolSelect(o){this.symbolSelected.emit(o)}render(){let o=t("ul",null,this.searchResults.map((o=>t("li",{onClick:()=>this.onSymbolSelect(o.symbol)},t("strong",null,o.symbol)," - ",o.name))));return this.loading&&(o=t("loading-spinner",null)),t(i,null,t("form",{onSubmit:o=>this.onFindStocks(o)},t("input",{type:"text",id:"stock-symbol",ref:o=>this.stockNameInput=o}),t("button",{type:"submit"},"Find!")),o)}};s.style=":host{font-family:sans-serif;border:2px solid #3b013b;margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}form input{font:inherit;color:#3b013b;padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid #3b013b;background:#3b013b;color:white;cursor:pointer}form button:hover,form button:active{background:#750175;border-color:#750175}form button:disabled{background:#ccc;border-color:#ccc;color:white;cursor:not-allowed}ul{margin:0;padding:0;list-style:none}li{margin:0.25rem 0;padding:0.25rem;border:1px solid #ccc;cursor:pointer}li:hover,li:active{background-color:#3b013b;color:white}";const l=class{constructor(t){o(this,t),this.stockInputValid=!1,this.loading=!1}stockSymbolChanged(o,t){o!==t&&(this.stockUserInput=o,this.stockInputValid=!0,this.fetchStockPrice(o))}onUserInput(o){this.stockUserInput=o.target.value,this.stockInputValid=""!==this.stockUserInput.trim()}onFetchStockPrice(o){o.preventDefault(),this.stockSymbol=this.stockInput.value}connectedCallback(){console.log("connectedCallback")}componentWillLoad(){console.log("componentWillLoad",this.stockSymbol),this.stockSymbol&&(this.stockUserInput=this.stockSymbol,this.stockInputValid=!0,this.fetchStockPrice(this.stockSymbol))}componentDidLoad(){console.log("componentDidLoad")}componentWillUpdate(){console.log("componentWillUpdate")}componentDidUpdate(){console.log("componentDidUpdate")}disconnectedCallback(){console.log("disconnectedCallback")}onStockSymbolSelected(o){o.detail&&o.detail!==this.stockSymbol&&(console.log(o.detail),this.stockSymbol=o.detail)}fetchStockPrice(o){this.loading=!0,fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${o}&apikey=`).then((o=>o.json())).then((o=>{if(!o["Global Quote"]["05. price"])throw new Error("Invalid symbol!");this.error=null,this.fetchedPrice=+o["Global Quote"]["05. price"],this.loading=!1})).catch((o=>{this.error=o.message,this.fetchedPrice=null,this.loading=!1}))}render(){let o=t("p",null,"Please enter a symbol");return this.error&&(o=t("p",null,this.error)),this.fetchedPrice&&(o=t("p",null,"Price: $",this.fetchedPrice)),this.loading&&(o=t("loading-spinner",null)),t(i,{class:this.error?"error":""},t("form",{onSubmit:o=>this.onFetchStockPrice(o)},t("input",{type:"text",id:"stock-symbol",ref:o=>this.stockInput=o,value:this.stockUserInput,onInput:o=>this.onUserInput(o)}),t("button",{type:"submit",disabled:!this.stockInputValid||this.loading},"Fetch")),t("div",null,o))}get el(){return n(this)}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}};l.style=":host{font-family:sans-serif;border:2px solid #3b013b;margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}:host(.error){border-color:orangered}form input{font:inherit;color:#3b013b;padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid #3b013b;background:#3b013b;color:white;cursor:pointer}form button:hover,form button:active{background:#750175;border-color:#750175}form button:disabled{background-color:#ccc;border-color:#ccc;color:white;cursor:not-allowed}";export{r as loading_spinner,s as stock_finder,l as stock_price}